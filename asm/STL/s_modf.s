.include "macros.inc"

.section .text, "ax"
.global modf
modf:
/* 800C0C24 000BBB24  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C0C28 000BBB28  D8 21 00 08 */	stfd f1, 8(r1)
/* 800C0C2C 000BBB2C  80 A1 00 08 */	lwz r5, 8(r1)
/* 800C0C30 000BBB30  80 C1 00 0C */	lwz r6, 0xc(r1)
/* 800C0C34 000BBB34  54 A4 65 7E */	rlwinm r4, r5, 0xc, 0x15, 0x1f
/* 800C0C38 000BBB38  38 E4 FC 01 */	addi r7, r4, -1023
/* 800C0C3C 000BBB3C  2C 07 00 14 */	cmpwi r7, 0x14
/* 800C0C40 000BBB40  40 80 00 70 */	bge lbl_800C0CB0
/* 800C0C44 000BBB44  2C 07 00 00 */	cmpwi r7, 0
/* 800C0C48 000BBB48  40 80 00 18 */	bge lbl_800C0C60
/* 800C0C4C 000BBB4C  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800C0C50 000BBB50  38 00 00 00 */	li r0, 0
/* 800C0C54 000BBB54  90 83 00 00 */	stw r4, 0(r3)
/* 800C0C58 000BBB58  90 03 00 04 */	stw r0, 4(r3)
/* 800C0C5C 000BBB5C  48 00 00 BC */	b lbl_800C0D18
lbl_800C0C60:
/* 800C0C60 000BBB60  3C 80 00 10 */	lis r4, 0x000FFFFF@ha
/* 800C0C64 000BBB64  38 04 FF FF */	addi r0, r4, 0x000FFFFF@l
/* 800C0C68 000BBB68  7C 04 3E 30 */	sraw r4, r0, r7
/* 800C0C6C 000BBB6C  7C A0 20 38 */	and r0, r5, r4
/* 800C0C70 000BBB70  7C C0 03 79 */	or. r0, r6, r0
/* 800C0C74 000BBB74  40 82 00 20 */	bne lbl_800C0C94
/* 800C0C78 000BBB78  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800C0C7C 000BBB7C  38 00 00 00 */	li r0, 0
/* 800C0C80 000BBB80  90 81 00 08 */	stw r4, 8(r1)
/* 800C0C84 000BBB84  90 01 00 0C */	stw r0, 0xc(r1)
/* 800C0C88 000BBB88  D8 23 00 00 */	stfd f1, 0(r3)
/* 800C0C8C 000BBB8C  C8 21 00 08 */	lfd f1, 8(r1)
/* 800C0C90 000BBB90  48 00 00 88 */	b lbl_800C0D18
lbl_800C0C94:
/* 800C0C94 000BBB94  7C A4 20 78 */	andc r4, r5, r4
/* 800C0C98 000BBB98  38 00 00 00 */	li r0, 0
/* 800C0C9C 000BBB9C  90 83 00 00 */	stw r4, 0(r3)
/* 800C0CA0 000BBBA0  90 03 00 04 */	stw r0, 4(r3)
/* 800C0CA4 000BBBA4  C8 03 00 00 */	lfd f0, 0(r3)
/* 800C0CA8 000BBBA8  FC 21 00 28 */	fsub f1, f1, f0
/* 800C0CAC 000BBBAC  48 00 00 6C */	b lbl_800C0D18
lbl_800C0CB0:
/* 800C0CB0 000BBBB0  2C 07 00 33 */	cmpwi r7, 0x33
/* 800C0CB4 000BBBB4  40 81 00 20 */	ble lbl_800C0CD4
/* 800C0CB8 000BBBB8  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800C0CBC 000BBBBC  38 00 00 00 */	li r0, 0
/* 800C0CC0 000BBBC0  90 81 00 08 */	stw r4, 8(r1)
/* 800C0CC4 000BBBC4  90 01 00 0C */	stw r0, 0xc(r1)
/* 800C0CC8 000BBBC8  D8 23 00 00 */	stfd f1, 0(r3)
/* 800C0CCC 000BBBCC  C8 21 00 08 */	lfd f1, 8(r1)
/* 800C0CD0 000BBBD0  48 00 00 48 */	b lbl_800C0D18
lbl_800C0CD4:
/* 800C0CD4 000BBBD4  38 07 FF EC */	addi r0, r7, -20
/* 800C0CD8 000BBBD8  38 80 FF FF */	li r4, -1
/* 800C0CDC 000BBBDC  7C 84 04 30 */	srw r4, r4, r0
/* 800C0CE0 000BBBE0  7C C0 20 39 */	and. r0, r6, r4
/* 800C0CE4 000BBBE4  40 82 00 20 */	bne lbl_800C0D04
/* 800C0CE8 000BBBE8  54 A4 00 00 */	rlwinm r4, r5, 0, 0, 0
/* 800C0CEC 000BBBEC  38 00 00 00 */	li r0, 0
/* 800C0CF0 000BBBF0  90 81 00 08 */	stw r4, 8(r1)
/* 800C0CF4 000BBBF4  90 01 00 0C */	stw r0, 0xc(r1)
/* 800C0CF8 000BBBF8  D8 23 00 00 */	stfd f1, 0(r3)
/* 800C0CFC 000BBBFC  C8 21 00 08 */	lfd f1, 8(r1)
/* 800C0D00 000BBC00  48 00 00 18 */	b lbl_800C0D18
lbl_800C0D04:
/* 800C0D04 000BBC04  7C C0 20 78 */	andc r0, r6, r4
/* 800C0D08 000BBC08  90 A3 00 00 */	stw r5, 0(r3)
/* 800C0D0C 000BBC0C  90 03 00 04 */	stw r0, 4(r3)
/* 800C0D10 000BBC10  C8 03 00 00 */	lfd f0, 0(r3)
/* 800C0D14 000BBC14  FC 21 00 28 */	fsub f1, f1, f0
lbl_800C0D18:
/* 800C0D18 000BBC18  38 21 00 10 */	addi r1, r1, 0x10
/* 800C0D1C 000BBC1C  4E 80 00 20 */	blr 
